---
import AppLayout from "../../layouts/AppLayout.astro";
import SalesHeatmap from "../../components/SalesHeatmap.jsx";
---

<AppLayout>
  <div style="max-width: 1400px; margin: 0 auto; padding: 1.5rem;">
    <div style="margin-bottom: 1.5rem;">
      <h1 style="font-size: 2rem; font-weight: 700; color: #8b6f47; margin-bottom: 0.5rem;">
        ğŸ—ºï¸ Mapa de Calor de Ventas
      </h1>
      <p style="color: #666; margin: 0;">
        Visualiza la distribuciÃ³n geogrÃ¡fica de tus ventas en Colombia
      </p>
    </div>

    <!-- DescripciÃ³n -->
    <div
      style="background: #f9fafb; border-radius: 8px; padding: 1rem; margin-bottom: 1.5rem; border-left: 4px solid #8b6f47;"
    >
      <p style="margin: 0; color: #666; font-size: 0.95rem;">
        El color y tamaÃ±o de cada cÃ­rculo representan la intensidad y volumen de pedidos en esa zona. 
        <strong>Amarillo claro</strong> = pocas ventas, <strong>Rojo oscuro</strong> = muchas ventas.
      </p>
    </div>

    <!-- Mapa -->
    <div
      style="background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 1.5rem;"
    >
      <SalesHeatmap client:load />
    </div>

    <!-- InformaciÃ³n -->
    <div
      style="background: white; border-radius: 8px; padding: 1.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
    >
      <h3 style="color: #251a14; margin-top: 0;">Â¿CÃ³mo funciona?</h3>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
        <div>
          <h4 style="color: #8b6f47; margin-bottom: 0.5rem;">ğŸ¨ CÃ­rculos de Color</h4>
          <p style="color: #666; margin: 0; font-size: 0.9rem;">
            Cada cÃ­rculo representa una ciudad donde se han realizado ventas. El color indica la intensidad: desde amarillo claro (pocas ventas) hasta rojo oscuro (muchas ventas).
          </p>
        </div>
        <div>
          <h4 style="color: #8b6f47; margin-bottom: 0.5rem;">ğŸ“ TamaÃ±o del CÃ­rculo</h4>
          <p style="color: #666; margin: 0; font-size: 0.9rem;">
            Cuanto mÃ¡s grande sea el cÃ­rculo, mÃ¡s pedidos ha recibido esa zona. El tamaÃ±o es proporcional al volumen de ventas.
          </p>
        </div>
        <div>
          <h4 style="color: #8b6f47; margin-bottom: 0.5rem;">ğŸ“Š InformaciÃ³n Detallada</h4>
          <p style="color: #666; margin: 0; font-size: 0.9rem;">
            Haz clic en cualquier cÃ­rculo para ver detalles especÃ­ficos de esa ciudad: cantidad de pedidos y monto total de ventas.
          </p>
        </div>
        <div>
          <h4 style="color: #8b6f47; margin-bottom: 0.5rem;">ğŸ”„ Datos en Tiempo Real</h4>
          <p style="color: #666; margin: 0; font-size: 0.9rem;">
            Los datos se actualizan cada vez que sincronizas tus ventas desde MercadoLibre.
          </p>
        </div>
        <div>
          <h4 style="color: #8b6f47; margin-bottom: 0.5rem;">ğŸ“ Cobertura GeogrÃ¡fica</h4>
          <p style="color: #666; margin: 0; font-size: 0.9rem;">
            El mapa cubre todo Colombia, mostrando la distribuciÃ³n de tus clientes en cada regiÃ³n.
          </p>
        </div>
        <div>
          <h4 style="color: #8b6f47; margin-bottom: 0.5rem;">ğŸ’¡ AnÃ¡lisis EstratÃ©gico</h4>
          <p style="color: #666; margin: 0; font-size: 0.9rem;">
            Identifica zonas de alto desempeÃ±o y oportunidades de crecimiento en nuevas regiones.
          </p>
        </div>
      </div>
    </div>
  </div>
</AppLayout>
